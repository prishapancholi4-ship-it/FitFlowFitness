<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Meditation – FitFlow</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>

<script>
  if (localStorage.getItem("fitflowOnboardingComplete") !== "true") {
    window.location.href = "login.html";
  }
</script>

<!-- HAMBURGER MENU -->
<div class="hamburger" onclick="toggleMenu()">☰</div>

<!-- SLIDE-OUT MENU -->
<div id="sideMenu" class="side-menu">

  <h2 class="menu-title">FitFlow Menu</h2>

  <button class="secondary" onclick="location.href='dashboard.html'">Dashboard</button>

  <h3 class="menu-section">Wellness</h3>
  <button class="secondary" onclick="location.href='sleep.html'">Sleep</button>
  <button class="secondary" onclick="location.href='water.html'">Water</button>
  <button class="secondary" onclick="location.href='nutrition.html'">Nutrition</button>
  <button class="secondary" onclick="location.href='workouts.html'">Workouts</button>
  <button class="secondary" onclick="location.href='activity-log.html'">Activity Log</button>

  <h3 class="menu-section">Mindfulness</h3>
  <button class="secondary" onclick="location.href='meditation.html'">Meditation</button>
  <button class="secondary" onclick="location.href='breathing.html'">Breathing</button>
  <button class="secondary" onclick="location.href='affirmations.html'">Affirmations</button>
  <button class="secondary" onclick="location.href='journal.html'">Journal</button>

  <h3 class="menu-section">Progress</h3>
  <button class="secondary" onclick="location.href='profile.html'">Profile</button>
  <button class="secondary" onclick="location.href='goals.html'">Goals</button>
  <button class="secondary" onclick="location.href='badges.html'">Badges</button>
  <button class="secondary" onclick="location.href='weekly-summary.html'">Weekly Summary</button>

  <h3 class="menu-section">Extras</h3>
  <button class="secondary" onclick="location.href='challenges.html'">Challenges</button>
  <button class="secondary" onclick="location.href='shop.html'">Shop</button>
  <button class="secondary" onclick="location.href='blog.html'">Blog</button>
  <button class="secondary" onclick="location.href='settings.html'">Settings</button>

  <h3 class="menu-section">Account</h3>
  <button class="danger" onclick="logoutUser()">Logout</button>

  <h3 class="menu-section">Admin</h3>
  <button class="secondary" onclick="location.href='admin.html'">Admin Dashboard</button>

</div>

<div class="container">

  <h1 class="gradient-text">Meditation</h1>

  <!-- START SESSION -->
  <section class="card" style="padding: var(--space-lg);">
    <h2>Start a Session</h2>

    <label class="field-label">Minutes</label>
    <input type="number" id="medMinutes" min="1" class="input">

    <button class="primary" onclick="logMeditation()" style="margin-top: var(--space-md);">
      Begin
    </button>

    <p id="medStatus" class="subtext" style="margin-top: var(--space-sm);"></p>
  </section>

</div>

<script src="fitflow-global.js"></script>
<script src="script.js"></script>

<script>
  function toggleMenu() {
    document.getElementById("sideMenu").classList.toggle("open");
  }

  function logMeditation() {
    const minutes = Number(document.getElementById("medMinutes").value);
    const status = document.getElementById("medStatus");

    if (!minutes) {
      status.textContent = "Enter meditation minutes.";
      return;
    }

    // Award points for meditation
    addPoints(10);

    status.textContent = "Meditation logged.";
  }
</script>

</body>
</html>
